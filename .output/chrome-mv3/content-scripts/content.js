var content=(function(){"use strict";function w(n){return n}const h={matches:["*://*.google.com/*"],main(){console.log("Hello content.")}},d=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function s(n,...t){}const u={debug:(...n)=>s(console.debug,...n),log:(...n)=>s(console.log,...n),warn:(...n)=>s(console.warn,...n),error:(...n)=>s(console.error,...n)};class l extends Event{constructor(t,e){super(l.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=e}static EVENT_NAME=c("wxt:locationchange")}function c(n){return`${d?.runtime?.id}:content:${n}`}function g(n){let t,e;return{run(){t==null&&(e=new URL(location.href),t=n.setInterval(()=>{let r=new URL(location.href);r.href!==e.href&&(window.dispatchEvent(new l(r,e)),e=r)},1e3))}}}class o{constructor(t,e){this.contentScriptName=t,this.options=e,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=c("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=g(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return d.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,e){const r=setInterval(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,e){const r=setTimeout(()=>{this.isValid&&t()},e);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const e=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(e)),e}requestIdleCallback(t,e){const r=requestIdleCallback((...i)=>{this.signal.aborted||t(...i)},e);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,e,r,i){e==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(e.startsWith("wxt:")?c(e):e,r,{...i,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),u.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:o.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const e=t.data?.type===o.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,i=!this.receivedMessageIds.has(t.data?.messageId);return e&&r&&i}listenForNewerScripts(t){let e=!0;const r=i=>{if(this.verifyScriptStartedEvent(i)){this.receivedMessageIds.add(i.data.messageId);const v=e;if(e=!1,v&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}function f(){}function a(n,...t){}const m={debug:(...n)=>a(console.debug,...n),log:(...n)=>a(console.log,...n),warn:(...n)=>a(console.warn,...n),error:(...n)=>a(console.error,...n)};return(async()=>{try{const{main:n,...t}=h,e=new o("content",t);return await n(e)}catch(n){throw m.error('The content script "content" crashed on startup!',n),n}})()})();
content;